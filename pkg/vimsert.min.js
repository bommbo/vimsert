!function(e){"use strict";var t,i,o,n,a,r,s,c,d,u;i="textarea:not('.ace_editor')",e.fn.vimsert=function(){this.bind("keypress",r)},r=function(t){var i;t.ctrlKey&&9==t.charCode&&(o=e(t.currentTarget),i=o.val(),s.setValue(i),d(c),t.preventDefault())},t=function(){n(),a()},n=function(){e("body").append('<textarea id="vimsert-editor" rows="100" cols="80"></textarea>'),e("vimsert-editor").css({position:"absolute",top:"0",left:"0",bottom:"0",right:"0"}),s=ace.edit("vimsert-editor"),s.setTheme("ace/theme/solarized_dark"),ace.config.loadModule("ace/keyboard/vim",function(){var e=require("ace/keyboard/vim").CodeMirror.Vim;e.defineEx("write","w",function(){o.val(s.getValue())}),e.defineEx("quit","q",function(){u()}),e.defineEx("wq","wq",function(){o.val(s.getValue()),u()})}),s.setKeyboardHandler("ace/keyboard/vim"),s.getSession(),c=e(".ace_editor"),c.css({display:"none",height:"75%",width:"75%",position:"fixed","font-size":"15px","z-index":"9999",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-55%)","box-shadow":"#000 0 0 10px"})},a=function(){e(i).vimsert()},d=function(){c.css("display","block"),s.focus(),s.clearSelection()},u=function(){c.css("display","none"),setTimeout(function(){var e=2*o.val().length;o[0].setSelectionRange(e,e),o.focus()},100)},t()}(jQuery,document,window);